<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">

    <title>Title</title>
    <script th:replace="insert/header :: headerElement"></script>
</head>
<body>
<script th:replace="insert/header :: navbar"></script>
<div th:if="${error}" style="text-align: center">
    <span th:text="${error}" style="background-color: lightpink; "></span>
</div>
<div class="container">
    <div class="row">
        <a href="/user/back">Back</a>
    </div>
    <div class="row">
        <h1 th:text="${user.login}"></h1>
    </div>
    <div class="row">
        <div class="card w-50" style="margin: 1.5em auto">
            <div class="card-header"><h3>Update user</h3></div>
            <div class="card-body">
                <form action="/user/update"  method="post" enctype="utf8">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                    <!--                ERROR-->
                    <div class="alert alert-danger" role="alert" th:if="${error}"
                         th:text="${error}"></div>


                    <!--                PASSWORD-->
                    <div class="form-group row">
                        <label class="col-md-4 col-form-label">Current password:</label>
                        <div class="col-md-8">
                            <input type="password" class="form-control" name="password" th:value="${user.password}"/>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-md-4 col-form-label">New password:</label>
                        <div class="col-md-8">
                            <input type="password" class="form-control" name="newPassword" th:value="${user.password}"/>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-md-4 col-form-label">Confirm the password:</label>
                        <div class="col-md-8">
                            <input type="password" class="form-control" name="newPasswordConfirm" th:value="${user.password}"/>
                        </div>
                    </div>

                    <!--                LOCATION-->
                    <div class="form-group row">
                        <label class="col-md-4 col-form-label">Location:</label>
                        <div class="col-md-8">
                            <select  class="form-control" name="cityName">
                                <option th:each="city : ${cities}" th:text="${city}"></option>
                            </select>
                        </div>
                    </div>

                    <!--                DATE OF BIRTH-->
                    <div class="form-group row">
                        <label class="col-md-4 col-form-label">Date of birth:</label>
                        <div class="col-md-8">
                            <input name ="dateOfBirth" type="date" value="2020-01-01" class="form-control">
                        </div>
                    </div>

                    <button type="submit" class="btn btn-lg btn-primary">Update</button>

                </form>

            </div>
        </div>

    </div>
    <div class="row">

    </div>

</div>

<!--<form method="post" action="/user/update">-->
<!--    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>-->
<!--    <div>-->
<!--        <p>Current password: <input name="password" type="password" th:value="${user.password}"></p>-->
<!--    </div>-->
<!--    <div>-->
<!--        <p>New password: <input name="newPassword" type="password" th:value="${user.password}"></p>-->
<!--    </div>-->
<!--    <div>-->
<!--        <p>Confirm new password: <input name="newPasswordConfirm" type="password" th:value="${user.password}"></p>-->
<!--    </div>-->
<!--    <div>-->
<!--        <span>-->
<!--            <label>Location: </label>-->
<!--        </span>-->
<!--        <span>-->
<!--            <select name="cityName">-->
<!--            <option th:each="city : ${cities}" th:text="${city}" ></option>-->
<!--        </select>-->
<!--        </span>-->

<!--    </div>-->
<!--    <div>-->
<!--        <span>-->
<!--            <label>Date of birth: </label>-->
<!--        </span>-->
<!--        <span>-->
<!--        <input name ="dateOfBirth" type="date" th:value="${user.dateOfBirth}">-->
<!--        </span>-->
<!--    </div>-->
<!--    <input type="submit" value="Update">-->
<!--    &lt;!&ndash;    <button id="saveBtn">Save</button>&ndash;&gt;-->
<!--    &lt;!&ndash;    <button id="cancelBtn">Cancel</button>&ndash;&gt;-->
<!--</form>-->

</body>
</html>